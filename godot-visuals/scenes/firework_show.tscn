[gd_scene load_steps=5 format=3 uid="uid://brwpek2w05j4c"]

[ext_resource type="Script" uid="uid://c1i68uaxyl1b" path="res://scripts/firework_show.gd" id="1_rs47e"]
[ext_resource type="AudioStream" uid="uid://bp6rg1q1b3h8y" path="res://assets/sounds/firecracker_audio_stream.mp3" id="2_rn8gm"]
[ext_resource type="Script" uid="uid://6vlvmbudis0g" path="res://scripts/music_sync.gd" id="3_rn8gm"]

[sub_resource type="LabelSettings" id="LabelSettings_rn8gm"]
font_size = 86

[node name="FireworkShow" type="Node3D"]
script = ExtResource("1_rs47e")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("2_rn8gm")
bus = &"Visualizer"

[node name="AudioStreamPlayer2" type="AudioStreamPlayer" parent="."]
stream = ExtResource("2_rn8gm")
bus = &"New Bus"

[node name="Node3D" type="Node3D" parent="." node_paths=PackedStringArray("audio_player", "actual_audio_player")]
script = ExtResource("3_rn8gm")
audio_player = NodePath("../AudioStreamPlayer")
actual_audio_player = NodePath("../AudioStreamPlayer2")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Label" type="Label" parent="CanvasLayer"]
offset_left = 71.0
offset_top = 32.0
offset_right = 111.0
offset_bottom = 55.0
text = "0:00"
label_settings = SubResource("LabelSettings_rn8gm")
horizontal_alignment = 1

[node name="Timer" type="Timer" parent="."]
wait_time = 5.0
one_shot = true

[connection signal="finished" from="AudioStreamPlayer" to="." method="_on_audio_stream_player_finished"]
[connection signal="finished" from="AudioStreamPlayer2" to="." method="_on_audio_stream_player_finished"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
